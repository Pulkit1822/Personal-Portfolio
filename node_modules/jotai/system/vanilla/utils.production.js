System.register(["jotai/vanilla"],function(A){"use strict";var f;return{setters:[function(S){f=S.atom}],execute:function(){A({atomFamily:$,atomWithDefault:Y,atomWithObservable:et,atomWithReducer:J,atomWithReset:z,atomWithStorage:tt,createJSONStorage:D,freezeAtom:q,freezeAtomCreator:B,loadable:ot,selectAtom:F,splitAtom:X,unstable_unwrap:at});const S=A("RESET",Symbol());function z(n){const e=f(n,(r,u,s)=>{const o=typeof s=="function"?s(r(e)):s;u(e,o===S?n:o)});return e}function J(n,e){const r=f(n,(u,s,o)=>s(r,e(u(r),o)));return r}function $(n,e){let r=null;const u=new Map,s=o=>{let t;if(e===void 0)t=u.get(o);else for(const[i,c]of u)if(e(i,o)){t=c;break}if(t!==void 0)if(r!=null&&r(t[1],o))s.remove(o);else return t[0];const a=n(o);return u.set(o,[a,Date.now()]),a};return s.remove=o=>{if(e===void 0)u.delete(o);else for(const[t]of u)if(e(t,o)){u.delete(t);break}},s.setShouldRemove=o=>{if(r=o,!!r)for(const[t,a]of u)r(a[1],t)&&u.delete(t)},s}const L=(n,e,r)=>(e.has(r)?e:e.set(r,n())).get(r),_=new WeakMap,C=(n,e,r,u)=>{const s=L(()=>new WeakMap,_,e),o=L(()=>new WeakMap,s,r);return L(n,o,u)};function F(n,e,r=Object.is){return C(()=>{const u=Symbol(),s=([t,a])=>{if(a===u)return e(t);const i=e(t,a);return r(a,i)?a:i},o=f(t=>{const a=t(o),i=t(n);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(s):s([i,a])});return o.init=u,o},n,e,r)}const x=new WeakMap,K=(n,e)=>(x.has(e)?x:x.set(e,n())).get(e),E=n=>{if(typeof n!="object"||n===null)return;Object.freeze(n);const e=Object.getOwnPropertyNames(n);for(const r of e){const u=n[r];E(u)}return n};function q(n){return K(()=>f(e=>E(e(n)),(e,r,u)=>r(n,u)),n)}function B(n){return(...e)=>{const r=n(...e),u=r.read;return r.read=(s,o)=>E(u(s,o)),r}}const P=(n,e,r)=>(e.has(r)?e:e.set(r,n())).get(r),G=new WeakMap,H=(n,e,r)=>{const u=P(()=>new WeakMap,G,e);return P(n,u,r)},Q={},R=n=>!!n.write,U=n=>typeof n=="function";function X(n,e){return H(()=>{const r=new WeakMap,u=(t,a)=>{let i=r.get(t);if(i)return i;const c=a&&r.get(a),l=[],m=[];return t.forEach((w,v)=>{const b=e?e(w):v;m[v]=b;const g=c&&c.atomList[c.keyList.indexOf(b)];if(g){l[v]=g;return}const W=h=>{const d=h(s),y=h(n),k=u(y,d==null?void 0:d.arr).keyList.indexOf(b);if(k<0||k>=y.length){const p=t[u(t).keyList.indexOf(b)];if(p)return p;throw new Error("splitAtom: index out of bounds for read")}return y[k]},O=(h,d,y)=>{const k=h(s),p=h(n),M=u(p,k==null?void 0:k.arr).keyList.indexOf(b);if(M<0||M>=p.length)throw new Error("splitAtom: index out of bounds for write");const ut=U(y)?y(p[M]):y;d(n,[...p.slice(0,M),ut,...p.slice(M+1)])};l[v]=R(n)?f(W,O):f(W)}),c&&c.keyList.length===m.length&&c.keyList.every((w,v)=>w===m[v])?i=c:i={arr:t,atomList:l,keyList:m},r.set(t,i),i},s=f(t=>{const a=t(s),i=t(n);return u(i,a==null?void 0:a.arr)});s.init=void 0;const o=R(n)?f(t=>t(s).atomList,(t,a,i)=>{switch(i.type){case"remove":{const c=t(o).indexOf(i.atom);if(c>=0){const l=t(n);a(n,[...l.slice(0,c),...l.slice(c+1)])}break}case"insert":{const c=i.before?t(o).indexOf(i.before):t(o).length;if(c>=0){const l=t(n);a(n,[...l.slice(0,c),i.value,...l.slice(c)])}break}case"move":{const c=t(o).indexOf(i.atom),l=i.before?t(o).indexOf(i.before):t(o).length;if(c>=0&&l>=0){const m=t(n);c<l?a(n,[...m.slice(0,c),...m.slice(c+1,l),m[c],...m.slice(l)]):a(n,[...m.slice(0,l),m[c],...m.slice(l,c),...m.slice(c+1)])}break}}}):f(t=>t(s).atomList);return o},n,e||Q)}const V=(n,e)=>typeof e=="function"?e(n):e;function Y(n){const e=Symbol(),r=f(e),u=f((s,o)=>{const t=s(r);return t!==e?t:n(s,o)},(s,o,t)=>{if(t===S)return o(r,e);const a=s(u);return a instanceof Promise?a.then(i=>o(r,V(i,t))):o(r,V(a,t))});return u}const j=n=>typeof(n==null?void 0:n.then)=="function";function D(n){let e,r;const u={getItem:(s,o)=>{var t,a;const i=l=>{if(l=l||"",e!==l){try{r=JSON.parse(l)}catch{return o}e=l}return r},c=(a=(t=n())==null?void 0:t.getItem(s))!=null?a:null;return j(c)?c.then(i):i(c)},setItem:(s,o)=>{var t;return(t=n())==null?void 0:t.setItem(s,JSON.stringify(o))},removeItem:s=>{var o;return(o=n())==null?void 0:o.removeItem(s)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&(u.subscribe=(s,o,t)=>{if(!(n()instanceof window.Storage))return()=>{};const a=i=>{if(i.storageArea===n()&&i.key===s){let c;try{c=JSON.parse(i.newValue||"")}catch{c=t}o(c)}};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),u}const Z=D(()=>typeof window<"u"?window.localStorage:void 0);function tt(n,e,r=Z){const u=f(e);return u.onMount=s=>{const o=r.getItem(n,e);j(o)?o.then(a=>s(a)):s(o);let t;return r.subscribe&&(t=r.subscribe(n,s,e)),t},f(s=>s(u),(s,o,t)=>{const a=typeof t=="function"?t(s(u)):t;return a===S?(o(u,e),r.removeItem(n)):(o(u,a),r.setItem(n,a))})}function et(n,e){const r=s=>{if("e"in s)throw s.e;return s.d},u=f(s=>{var o;let t=n(s);const a=(o=t[Symbol.observable])==null?void 0:o.call(t);a&&(t=a);let i;const c=()=>new Promise(d=>{i=d}),l=e&&"initialValue"in e?{d:typeof e.initialValue=="function"?e.initialValue():e.initialValue}:c();let m,w;const v=d=>{w=d,i==null||i(d),m==null||m(d)};let b,g;const W=()=>!m,O=()=>{b&&(clearTimeout(g),b.unsubscribe()),b=t.subscribe({next:d=>v({d}),error:d=>v({e:d}),complete:()=>{}}),W()&&e!=null&&e.unstable_timeout&&(g=setTimeout(()=>{b&&(b.unsubscribe(),b=void 0)},e.unstable_timeout))};O();const h=f(w||l);return h.onMount=d=>(m=d,w&&d(w),b?clearTimeout(g):O(),()=>{m=void 0,b&&(b.unsubscribe(),b=void 0)}),[h,t,c,O,W]});return f(s=>{const[o]=s(u),t=s(o);return t instanceof Promise?t.then(r):r(t)},(s,o,t)=>{const[a,i,c,l,m]=s(u);if("next"in i)m()&&(o(a,c()),l()),i.next(t);else throw new Error("observable is not subject")})}const I=new WeakMap,nt=(n,e)=>(I.has(e)?I:I.set(e,n())).get(e),N={state:"loading"};function ot(n){return nt(()=>{const e=new WeakMap,r=f(0),u=f((s,{setSelf:o})=>{s(r);const t=s(n);return t instanceof Promise?e.get(t)||(e.set(t,N),t.then(i=>{e.set(t,{state:"hasData",data:i})},i=>{e.set(t,{state:"hasError",error:i})}).finally(o),N):{state:"hasData",data:t}},(s,o)=>{o(r,t=>t+1)});return f(s=>s(u))},n)}const T=(n,e,r)=>(e.has(r)?e:e.set(r,n())).get(r),rt=new WeakMap,st=(n,e,r)=>{const u=T(()=>new WeakMap,rt,e);return T(n,u,r)},it=()=>{};function at(n,e=it){return st(()=>{const r=new WeakMap,u=new WeakMap,s=f(0),o=f((t,{setSelf:a})=>{t(s);const i=t(o),c=t(n);if(c===(i==null?void 0:i.p)){if(r.has(c))throw r.get(c);if(u.has(c))return{p:c,v:u.get(c)}}return c!==(i==null?void 0:i.p)&&c.then(l=>u.set(c,l),l=>r.set(c,l)).finally(a),i&&"v"in i?{p:c,f:e(i.v)}:{p:c,f:e()}},(t,a)=>{a(s,i=>i+1)});return o.init=void 0,f(t=>{const a=t(o);return"v"in a?a.v:a.f})},n,e)}}}});
