function e(e,r){if(r==null||r>e.length)r=e.length;for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function r(e){if(Array.isArray(e))return e}function t(e,r,t,n,o,u,a){try{var i=e[u](a);var l=i.value}catch(e){t(e);return}if(i.done){r(l)}else{Promise.resolve(l).then(n,o)}}function n(e){return function(){var r=this,n=arguments;return new Promise(function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,l,"next",e)}function l(e){t(a,o,u,i,l,"throw",e)}i(undefined)})}}function o(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function u(e,r){if(r!=null&&typeof Symbol!=="undefined"&&r[Symbol.hasInstance]){return!!r[Symbol.hasInstance](e)}else{return e instanceof r}}function a(e,r){var t=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t==null)return;var n=[];var o=true;var u=false;var a,i;try{for(t=t.call(e);!(o=(a=t.next()).done);o=true){n.push(a.value);if(r&&n.length===r)break}}catch(e){u=true;i=e}finally{try{if(!o&&t["return"]!=null)t["return"]()}finally{if(u)throw i}}return n}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};var n=Object.keys(t);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))}n.forEach(function(r){o(e,r,t[r])})}return e}function c(e,r){if(e==null)return{};var t=s(e,r);var n,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++){n=u[o];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}function s(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var o,u;for(u=0;u<n.length;u++){o=n[u];if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}function f(e,t){return r(e)||a(e,t)||d(e,t)||i()}function d(r,t){if(!r)return;if(typeof r==="string")return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor)n=r.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(r,t)}function p(e,r){var t,n,o,u,a={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),"throw":i(1),"return":i(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function i(e){return function(r){return l([e,r])}}function l(u){if(t)throw new TypeError("Generator is already executing.");while(a)try{if(t=1,n&&(o=u[0]&2?n["return"]:u[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;if(n=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:a.label++;return{value:u[1],done:false};case 5:a.label++;n=u[1];u=[0];continue;case 7:u=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(u[0]===6&&a.label<o[1]){a.label=o[1];o=u;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(u);break}if(o[2])a.ops.pop();a.trys.pop();continue}u=r.call(e,a)}catch(e){u=[6,e];n=0}finally{t=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}}var m=Object.create;var v=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var w=function(e,r){for(var t in r)v(e,t,{get:r[t],enumerable:!0})},E=function(e,r,t,n){var o=true,u=false,a=undefined;if(r&&typeof r=="object"||typeof r=="function")try{var i=function(){var o=c.value;!g.call(e,o)&&o!==t&&v(e,o,{get:function(){return r[o]},enumerable:!(n=y(r,o))||n.enumerable})};for(var l=b(r)[Symbol.iterator](),c;!(o=(c=l.next()).done);o=true)i()}catch(e){u=true;a=e}finally{try{if(!o&&l.return!=null){l.return()}}finally{if(u){throw a}}}return e};var O=function(e,r,t){return t=e!=null?m(h(e)):{},E(r||!e||!e.__esModule?v(t,"default",{value:e,enumerable:!0}):t,e)},j=function(e){return E(v({},"__esModule",{value:!0}),e)};var F={};w(F,{CardElement:function(){return K.CardElement},FormspreeProvider:function(){return A},ValidationError:function(){return T},isFieldError:function(){return Y.isFieldError},useForm:function(){return V},useFormspree:function(){return I}});module.exports=j(F);var P=O(require("react")),S=require("@formspree/core"),_=require("@stripe/stripe-js/pure.js"),x=(0,P.lazy)(function(){return import("@stripe/react-stripe-js").then(function(e){return{default:e.Elements}})}),C=P.default.createContext(null);C.displayName="Formspree";var k,q=function(e){return k||(k=(0,_.loadStripe)(e)),k},D=function(e,r){var t={};return e&&(t.stripePromise=e),r&&(t.project=r),(0,S.createClient)(t)},A=function(e){var r=f((0,P.useState)(void 0),2),t=r[0],o=r[1],u=f((0,P.useState)(D(t,e.project)),2),a=u[0],i=u[1];return(0,P.useEffect)(function(){return a.startBrowserSession(),function(){a.teardown()}},[]),(0,P.useEffect)(function(){var r=function(){var e=n(function(e){var r;return p(this,function(t){switch(t.label){case 0:return[4,q(e)];case 1:r=t.sent();r&&o(r);return[2]}})});return function r(r){return e.apply(this,arguments)}}();e.stripePK&&r(e.stripePK)},[e.stripePK]),(0,P.useEffect)(function(){t&&i(D(t,e.project))},[t]),P.default.createElement(C.Provider,{value:{client:a}},e.stripePK?P.default.createElement(P.default.Fragment,null,t&&P.default.createElement(P.Suspense,{fallback:P.default.createElement("p",null,"....")},P.default.createElement(x,{stripe:t},P.default.createElement(P.default.Fragment,null,e.children)))):P.default.createElement(P.default.Fragment,null,e.children))};function I(){var e;return(e=(0,P.useContext)(C))!==null&&e!==void 0?e:{client:(0,S.getDefaultClient)()}}var M=require("react"),K=require("@stripe/react-stripe-js");var N="2.4.4";var U=function(e){return e.preventDefault!==void 0},V=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var t=f((0,M.useState)(null),2),a=t[0],i=t[1],c=f((0,M.useState)(!1),2),s=c[0],d=c[1],m=f((0,M.useState)(!1),2),v=m[0],y=m[1],b=f((0,M.useState)([]),2),h=b[0],g=b[1],w=I(),E=r.client||w,O,j;if(!E)throw new Error("You must provide a Formspree client");if(!e)throw new Error('You must provide a form key or hashid (e.g. useForm("myForm") or useForm("123xyz")');w.client&&w.client.stripePromise&&(O=(0,K.useStripe)(),j=(0,K.useElements)());var F=!!r.debug,P=r.data;return[{result:a,submitting:s,succeeded:v,errors:h},function(){var t=n(function(t){var a,c,s,m,v,b,h,E,S,_,x,C,k,q,D,A;return p(this,function(I){switch(I.label){case 0:a=function(){var e=n(function(e){var r;return p(this,function(t){e.preventDefault();r=e.target;if(r.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return[2,new FormData(r)]})});return function r(r){return e.apply(this,arguments)}}();if(!U(t))return[3,2];return[4,a(t)];case 1:m=I.sent();return[3,3];case 2:m=t;I.label=3;case 3:c=m,s=function(e,r){u(c,FormData)?c.append(e,r):c=Object.assign(c,o({},e,r))};v=true,b=false,h=undefined;if(!(typeof P=="object"))return[3,13];I.label=4;case 4:I.trys.push([4,11,12,13]);E=Object.entries(P)[Symbol.iterator]();I.label=5;case 5:if(!!(v=(S=E.next()).done))return[3,10];_=f(S.value,2),x=_[0],C=_[1];k=void 0;if(!(typeof C=="function"))return[3,7];return[4,C()];case 6:q=k=I.sent();return[3,8];case 7:q=k=C;I.label=8;case 8:q,k!==void 0&&s(x,k);I.label=9;case 9:v=true;return[3,5];case 10:return[3,13];case 11:D=I.sent();b=true;h=D;return[3,13];case 12:try{if(!v&&E.return!=null){E.return()}}finally{if(b){throw h}}return[7];case 13:A=function(){var e=n(function(){var e;return p(this,function(r){switch(r.label){case 0:e=l({},c.address_line1&&{line1:c.address_line1},c.address_line2&&{line2:c.address_line2},c.address_city&&{city:c.address_city},c.address_country&&{country:c.address_country},c.address_state&&{state:c.address_state},c.address_postal_code&&{postal_code:c.address_postal_code});return[4,O.createPaymentMethod({type:"card",card:j.getElement(K.CardElement),billing_details:l({},c.name&&{name:c.name},c.email&&{email:c.email},c.phone&&{phone:c.phone},e&&{address:e})})];case 1:return[2,r.sent()]}})});return function r(){return e.apply(this,arguments)}}();return[2,(d(!0),w.client.submitForm(e,c,{endpoint:r.endpoint,clientName:"@formspree/react@".concat(N),createPaymentMethod:w.client&&w.client.stripePromise?A:void 0}).then(function(e){var r=e.response.status,t;return r===200?(F&&console.log("Form submitted",e),y(!0),i(e),g([])):r>=400&&(t=e.body,t.errors?(g(t.errors),F&&console.log("Error",e)):(g([{message:"Unexpected error"}]),F&&console.log("Unexpected error",e)),y(!1)),e}).catch(function(e){throw F&&console.log("Unexpected error",e),y(!1),e}).finally(function(){d(!1)}))]}})});return function(e){return t.apply(this,arguments)}}(),function(){d(!1),y(!1),g([])}]};var z=O(require("react")),T=function(e){var r=e.prefix,t=e.field,n=e.errors,o=c(e,["prefix","field","errors"]),u=(n||[]).find(function(e){return e.field===t});return u?z.default.createElement("div",l({},o),r," ",u.message):null};var Y=require("@formspree/core");0&&(module.exports={CardElement:CardElement,FormspreeProvider:FormspreeProvider,ValidationError:ValidationError,isFieldError:isFieldError,useForm:useForm,useFormspree:useFormspree});